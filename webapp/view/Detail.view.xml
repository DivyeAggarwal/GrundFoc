<mvc:View
	controllerName="servicerequests.controller.Detail"
	 xmlns="sap.m" xmlns:mvc="sap.ui.core.mvc"
          xmlns:semantic="sap.m.semantic" xmlns:core="sap.ui.core" xmlns:u="sap.ui.unified"
          xmlns:data="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1">
    <semantic:DetailPage id="page" navButtonPress="onNavBack" showNavButton="{device>/system/phone}"
                         title="{i18n>detailTitle}"
                         busy="{detailView>/busy}" busyIndicatorDelay="{detailView>/delay}">
        <semantic:content>
            <ObjectHeader id="objectHeader" title="{ID} {Name}"></ObjectHeader>
            <IconTabBar id="iconTabBar" class="sapUiResponsiveContentPadding">
                <items>
                    <IconTabFilter id="iconTabBarInfo" icon="sap-icon://hint" tooltip="{i18n>detailIconTabBarInfo}">
                        <VBox class="detailsBox">

                            <HBox>
                                <Label class="infoTitle" text="Ticket ID"/>
                                <Input id="infoTicketID" width="10rem" enabled="false"
                                        >
                                       
                                </Input>
                            </HBox>
                            <HBox>
                                <Label class="infoTitle" text="Subject"/>
                                <Input id="infoSubjectID" width="10rem" enabled="false"
                                        value="{Name}">
                                       
                                </Input>
                            </HBox>

                            <!-- <HBox>
                                <Label class="infoTitle" text="{i18n>detailPriority}"/>
                                <Select id="infoPrioritySelect" width="10rem" enabled="false"
                                        selectedKey="{ServicePriorityCode}"
                                        items="{ServiceRequest>/ServiceRequestServicePriorityCodeCollection}">
                                    <core:Item key="{ServiceRequest>Code}" text="{ServiceRequest>Description}"/>
                                </Select>
                            </HBox> -->

                            <HBox>
                                <Label class="infoTitle" text="Status"/>
                                <Select id="infoStatusSelect" width="10rem" enabled="true"
                                        selectedKey="{ServiceRequestUserLifeCycleStatusCode}"
                                        items="{ServiceRequest>/ServiceRequestServiceRequestUserLifeCycleStatusCodeCollection}">
					            <core:Item key="{ServiceRequest>Code}" text="{ServiceRequest>Description}"/>
                                </Select>
                            </HBox>

                            <!-- <HBox>
                                <Label class="infoTitle" text="{i18n>detailProductCategory}"/>
                                    <Select id="infoProductCategorySelect" width="10rem" enabled="false"
                                        selectedKey="{ProductID}" items="{ServiceRequest>/ProductCollection}">
                                    <core:Item key="{ServiceRequest>ID}" text="{ServiceRequest>Description}"/>
                                </Select>
                            </HBox> -->
                            <HBox>
                                <Label class="infoTitle" text="Digital Offering"/>
                                <Select id="infoServiceCategorySelect" width="10rem" enabled="false"
                                        selectedKey="{ServiceIssueCategoryID}" change="onServiceCategorySelect"
                                        items="{ServiceRequest>/ServiceCategoryCatalogueCollection}">
                                    <core:Item key="{ServiceRequest>ServiceIssueCategoryID}"
                                               text="{ServiceRequest>Name/content}"
                                               data:parentObject="{ServiceRequest>ParentObjectID}"
                                               data:typeCode="{ServiceRequest>TypeCode}"
                                            />
                                </Select>
                            </HBox>
                            <!-- <HBox>
                                <Label class="infoTitle" text="{i18n>detailIncidentCategory} "/>
                                <Select id="infoIncidentCategorySelect" width="10rem" enabled="false"
                                        selectedKey="{IncidentServiceIssueCategoryID}"
                                        items="{IncidentModel>/results}">
                                    <core:Item key="{IncidentModel>ServiceIssueCategoryID}"
                                               text="{IncidentModel>Name/content}"/>
                                </Select>
                            </HBox> -->
                            <HBox>
                                <Label class="infoTitle" text="Resolution Note"/>
                                <TextArea id="infoResolutionNoteID" rows="6" width="100%" enabled="false"
                                        value="{ResolutionNote_KUT}">
                                       
                                </TextArea>
                            </HBox>
                        </VBox>
                        <List id="descriptionsList"/>
                        <FeedInput id="interactionInput" post="onPost" showIcon="false"/>
                    </IconTabFilter>
                    <IconTabFilter id="iconTabBarAttachments" icon="sap-icon://attachment"
                                   tooltip="{i18n>detailIconTabBarAttachments}">
                        <VBox class="detailsBox">
                            <Label text="{i18n>detailUploadAnAttachment}"/>
                            <u:FileUploader id="fileUploader" tooltip="Upload an attachment"
                                            uploadComplete="onUploadComplete" change="onFileChange"/>
                            <Button id="uploadFileButton" text="{i18n>detailUploadFile}" press="onFileUpload"/>
                        </VBox>
                        <UploadCollection id="UploadCollection" multiple="false" mode="SingleSelectMaster" change="onDocumentUpload" instantUpload="true"
										selectionChange="onSelectionChange" uploadComplete="onUploadComplete" fileDeleted="onFileDeleted" beforeUploadStarts="onBeforeUploadStarts"
										fileRenamed="onFileRenamed" uploadTerminated="onUploadTerminated" items="{path: 'AttachmentModel>/', templateShareable: true}"
										noDataText="No Files exist. Please upload an URL/File" noDataDescription="No Files exist. Please upload an URL/File" showSeparators="All"
										numberOfAttachmentsText="" uploadEnabled="true" uploadButtonInvisible="true" sameFilenameAllowed="false">
										<toolbar>
											<OverflowToolbar id="idUploadCollOtoolbar" width="100%">
												<Title id="attachmentTitle" text="{i18n>Attachments}"/>
												<ToolbarSpacer/>
												<Button id="addLinkDocButton" text="{i18n>Add_Link}" press="addLinkDocUpload" enabled="true" visible="false" type="Transparent"/>
												<UploadCollectionToolbarPlaceholder/>
											</OverflowToolbar>
										</toolbar>
										<items>
											<UploadCollectionItem documentId="{AttachmentModel>Name}" fileName="{AttachmentModel>Name}" url="{AttachmentModel>url}"
												thumbnailUrl="{AttachmentModel>thumbnailUrl}" enableEdit="true" mimeType="{AttachmentModel>doctype}" enableDelete="true"
												visibleDelete="false" visibleEdit="false" press="onOpeningFile">
												<attributes>
													<ObjectAttribute title="{UploadedBy}" text="Uploaded By: {AttachmentModel>CreatedBy}" active="false"/>
													<ObjectAttribute title="{UploadedOn}" text="Uploaded On: {path : 'AttachmentModel>CreatedOn', formatter : '.formatAttribute'}"
														active="false"/>
													<ObjectAttribute title="{FileSize}" text="{path : 'AttachmentModel>docsize', formatter : '.formatFileSize'}" active="false"/>
												</attributes>
											</UploadCollectionItem>
										</items>
									</UploadCollection>
                        <!-- <Table id="attachmentsList"
                               inset="false"
                               itemPress="onAttachmentPress"
                               noDataText="No attachments"
                               items="{AttachmentModel>/}">
                            <columns>
                                <Column>
                                    <Text text="{i18n>detailFileName}"/>
                                </Column>
                                <Column>
                                    <Text text="{i18n>detailUploader}"/>
                                </Column>
                                <Column>
                                    <Text text="{i18n>detailDate}"/>
                                </Column>
                            </columns>
                            <items>
                                <ColumnListItem type="Active">
                                    <cells>
                                        <Text text="{AttachmentModel>Name}"/>
                                        <Text text="{AttachmentModel>CreatedBy}" />
                                        <Text text="{AttachmentModel>CreatedOn}" />
                                    </cells>
                                </ColumnListItem>
                            </items>
                        </Table> -->
                    </IconTabFilter>
                </items>
            </IconTabBar>
        </semantic:content>
        <semantic:positiveAction>
            <semantic:PositiveAction text="Accept Solution" id="setToAcceptBtn" press="onSetToComplete" visible="false"/>
        </semantic:positiveAction>
        <semantic:negativeAction>
            <semantic:NegativeAction text="Reject Solution" id="setToRejectBtn" press="onSetToComplete" visible="false"/>
        </semantic:negativeAction>
        <semantic:editAction>
            <semantic:EditAction id="edit" press="onEdit"/>
        </semantic:editAction>
        <semantic:saveAction>
            <semantic:SaveAction id="save" press="onSave" visible="false"/>
        </semantic:saveAction>
        <semantic:cancelAction>
            <semantic:CancelAction id="cancel" press="onCancel" visible="false"/>
        </semantic:cancelAction>
    </semantic:DetailPage>
</mvc:View>